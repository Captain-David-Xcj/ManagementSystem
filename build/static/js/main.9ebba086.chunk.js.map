{"version":3,"sources":["actions/index.js","components/leftmenu/LeftMenu.js","components/tabcontent/TabContent.js","LayOut.js","reducers/reducer.js","reducers/index.js","index.js"],"names":["addPage","page","type","deletePage","index","changePage","key","Mitem","Menu","Item","SubMenu","LeftMenu","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","menuItems","backEndMenuUrl","pageList","activeKey","nextProps","nextContext","setState","obj","_this2","cHtml","react_default","a","createElement","childArray","child","length","map","item","i","formSubmenusChild","title","icon","name","routeurl","routeUrl","e","panes","console","log","concat","component","content","_this3","_this$state","html","menuItem","menu","theme","onClick","handleClick","bind","style","width","defaultOpenKeys","selectedKeys","mode","React","Component","defaultProps","connect","dispatch","TabPane","Tabs","TabContent","onChange","onEdit","targetKey","action","add","remove","prevProps","prevState","snapshot","onRef","padding","background","height","tabs","hideAdd","pane","tab","Header","Layout","Footer","Sider","Content","LayOut","ref","layout","textAlign","overflow","margin","leftmenu_LeftMenu","handle","tabcontent_TabContent","initialState","pageApp","combineReducers","arguments","undefined","assign","toConsumableArray","lastIndex","forEach","pageList2","filter","store","createStore","rootReducer","ReactDOM","render","es","src_LayOut","document","getElementById"],"mappings":"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","file":"static/js/main.9ebba086.chunk.js","sourcesContent":["export const ADD_PAGE = 'ADD_PAGE';\r\nexport const DELETE_PAGE = 'DELETE_PAGE';\r\nexport const CHANGE_PAGE = 'CHANGE_PAGE';\r\n\r\nexport const addPage = (page) => ({\r\n    type: ADD_PAGE,\r\n    page\r\n});\r\n\r\nexport const deletePage = (index) => ({\r\n    type: DELETE_PAGE,\r\n    index\r\n});\r\n\r\nexport const changePage = (key) => ({\r\n    type: CHANGE_PAGE,\r\n    key\r\n});","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport {Menu, Icon} from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport {connect} from 'react-redux';\r\nimport {addPage,deletePage,changePage} from \"../../actions\";\r\n\r\nconst Mitem = Menu.Item;\r\nconst SubMenu = Menu.SubMenu;\r\n\r\nclass LeftMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            menuItems: props.menuItems,\r\n            backEndMenuUrl: props.backEndMenuUrl,\r\n            pageList:[],\r\n            activeKey:\"\"\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        this.setState({\r\n            pageList:nextProps.pageList,\r\n            activeKey:nextProps.activeKey\r\n        })\r\n    }\r\n\r\n    formSubmenusChild(obj) {\r\n        let cHtml = <div></div>;\r\n        let childArray = obj.child;\r\n        //console.log(obj);\r\n        if (\"undefined\" != typeof (childArray) && childArray.length > 0) {\r\n            cHtml = childArray.map((item, i) => {\r\n                return this.formSubmenusChild(item);\r\n            });\r\n            return (\r\n                <SubMenu key={obj.key} title={\r\n                    <span>\r\n                        <Icon type={obj.icon}/>\r\n                        <span>{obj.name}</span>\r\n                    </span>\r\n                }>\r\n                    {cHtml}\r\n                </SubMenu>\r\n            )\r\n        } else {\r\n            return (\r\n                <Mitem routeurl={obj.routeUrl} key={obj.key}><Icon type={obj.icon}/>\r\n                    {obj.name}\r\n                </Mitem>\r\n            )\r\n        }\r\n    }\r\n\r\n    handleClick(e) {\r\n        const panes = this.state.pageList;\r\n        for (let i = 0; i < panes.length; i++) {\r\n            if (panes[i].key === e.key) {\r\n                console.log(\"这个标签页已经打开了\");\r\n                this.props.changePage(e.key);\r\n                return;\r\n            }\r\n        }\r\n        this.props.addPage({\r\n            title:`${e.key}`,\r\n            key: `${e.key}`,\r\n            component: \"Welcome123\",\r\n            content: '欢迎欢迎，热烈欢迎123！'\r\n        });\r\n        this.props.changePage(e.key);\r\n        //console.log(this.props.page);\r\n        //this.props.handle(e.key)\r\n\r\n\r\n        //const {actions}=this.props;\r\n        //let menuInfo={\r\n        //    打印antd Menu组件的onClick返回值（e）可以看出通过e.item.props来获取我们item组件的自定义属性\r\n        //    routeUrl:e.item.props.routeUrl,\r\n        //    url: e.key,\r\n        //    target:'mainFrame'\r\n        //}\r\n        //根据route路由地址和iframe地址的值判断使用哪个作为菜单页面展示方式\r\n        //actions.onLoadMain(menuInfo);\r\n    }\r\n\r\n    render() {\r\n        const {menuItems, backEndMenuUrl} = this.state;\r\n        let html = menuItems.map(\r\n            (menuItem) => {\r\n                if (\"undefined\" != typeof (menuItem.child) && menuItem.child.length > 0) {\r\n                    return this.formSubmenusChild(menuItem);\r\n                } else {\r\n                    return (\r\n                        <Mitem routeurl={menuItem.routeUrl} key={menuItem.key}>\r\n                            <Icon type={menuItem.icon}/>\r\n                            {menuItem.name}\r\n                        </Mitem>\r\n                    )\r\n                }\r\n            }\r\n        );\r\n        return (\r\n            <Menu theme=\"light\"\r\n                  onClick={this.handleClick.bind(this)}\r\n                  style={{width: 200}}\r\n                  defaultOpenKeys={['sub1']}\r\n                  selectedKeys={[backEndMenuUrl]}\r\n                  mode=\"inline\"\r\n            >\r\n                {html}\r\n            </Menu>\r\n        )\r\n    }\r\n\r\n};\r\n\r\nLeftMenu.propTypes = {\r\n    menuItems: PropTypes.arrayOf(PropTypes.object)\r\n};\r\n\r\nLeftMenu.defaultProps = {\r\n    menuItems: [\r\n        {\r\n            \"key\": \"0\",\r\n            \"icon\": \"appstore\",\r\n            \"name\": \"Appstore\",\r\n            \"routeUrl\": \"\",\r\n            \"child\": [{\r\n                \"key\": \"3\",\r\n                \"icon\": \"search\",\r\n                \"name\": \"Search\",\r\n                \"routeUrl\": \"\"\r\n            }]\r\n        },\r\n        {\r\n            \"key\": \"1\",\r\n            \"icon\": \"mail\",\r\n            \"name\": \"Mail\",\r\n            \"routeUrl\": \"\",\r\n            \"child\": [{\r\n                \"key\": \"4\",\r\n                \"icon\": \"notification\",\r\n                \"name\": \"Notification\",\r\n                \"routeUrl\": \"\"\r\n            }]\r\n        },\r\n        {\r\n            \"key\": \"2\",\r\n            \"icon\": \"setting\",\r\n            \"name\": \"Setting\",\r\n            \"routeUrl\": \"\",\r\n            \"child\": [{\r\n                \"key\": \"5\",\r\n                \"icon\": \"star\",\r\n                \"name\": \"Star\",\r\n                \"routeUrl\": \"\"\r\n            }]\r\n        },\r\n        {\r\n            \"key\": \"6\",\r\n            \"icon\": \"setting\",\r\n            \"name\": \"Setting\",\r\n            \"routeUrl\": \"\",\r\n            \"child\": [{\r\n                \"key\": \"7\",\r\n                \"icon\": \"star\",\r\n                \"name\": \"Star\",\r\n                \"routeUrl\": \"\"\r\n            }]\r\n        },\r\n        {\r\n            \"key\": \"8\",\r\n            \"icon\": \"setting\",\r\n            \"name\": \"Setting\",\r\n            \"routeUrl\": \"\",\r\n            \"child\": [{\r\n                \"key\": \"9\",\r\n                \"icon\": \"star\",\r\n                \"name\": \"Star\",\r\n                \"routeUrl\": \"\"\r\n            }]\r\n        },\r\n        {\r\n            \"key\": \"10\",\r\n            \"icon\": \"setting\",\r\n            \"name\": \"Setting\",\r\n            \"routeUrl\": \"\",\r\n            \"child\": [{\r\n                \"key\": \"11\",\r\n                \"icon\": \"star\",\r\n                \"name\": \"Star\",\r\n                \"routeUrl\": \"\"\r\n            }]\r\n        },\r\n        {\r\n            \"key\": \"12\",\r\n            \"icon\": \"setting\",\r\n            \"name\": \"Setting\",\r\n            \"routeUrl\": \"\",\r\n            \"child\": [{\r\n                \"key\": \"13\",\r\n                \"icon\": \"star\",\r\n                \"name\": \"Star\",\r\n                \"routeUrl\": \"\"\r\n            }]\r\n        },\r\n        {\r\n            \"key\": \"14\",\r\n            \"icon\": \"setting\",\r\n            \"name\": \"Setting\",\r\n            \"routeUrl\": \"\",\r\n            \"child\": [{\r\n                \"key\": \"15\",\r\n                \"icon\": \"star\",\r\n                \"name\": \"Star\",\r\n                \"routeUrl\": \"\"\r\n            }]\r\n        }\r\n    ]\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        pageList: state.page.pageList,\r\n        activeKey: state.page.activeKey\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPage: page => dispatch(addPage(page)),\r\n        deletePage:index=>dispatch(deletePage(index)),\r\n        changePage:key=>dispatch(changePage(key))\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LeftMenu);","import React from 'react';\r\nimport {Tabs} from 'antd';\r\nimport {addPage, changePage, deletePage} from \"../../actions\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass TabContent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            panes: this.props.pageList,\r\n            activeKey: this.props.activeKey\r\n        };\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        this.setState({\r\n            panes: nextProps.pageList,\r\n            activeKey: nextProps.activeKey\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        console.log(this.state)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onRef(this);\r\n    }\r\n\r\n    onChange = (activeKey) => {\r\n        this.props.changePage(activeKey);\r\n    };\r\n\r\n    onEdit = (targetKey, action) => {\r\n        this[action](targetKey);\r\n    };\r\n\r\n    add = (key) => {\r\n        this.props.changePage(key);\r\n    };\r\n\r\n    remove = (targetKey) => {\r\n        this.props.deletePage(targetKey);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div style={{padding: '0px 0px 0px 16px', background: '#fff', height: \"100%\"}}>\r\n                <Tabs\r\n                    hideAdd\r\n                    onChange={this.onChange}\r\n                    activeKey={this.state.activeKey}\r\n                    type=\"editable-card\"\r\n                    onEdit={this.onEdit}>\r\n                    {this.state.panes.map(pane =>\r\n                        <TabPane tab={pane.title} key={pane.key}>\r\n                            {pane.content}\r\n                        </TabPane>)}\r\n                </Tabs>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        pageList: state.page.pageList,\r\n        activeKey: state.page.activeKey\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPage: page => dispatch(addPage(page)),\r\n        deletePage: index => dispatch(deletePage(index)),\r\n        changePage: key => dispatch(changePage(key))\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TabContent);\r\n","import React from 'react';\r\nimport {Layout} from \"antd\";\r\nimport LeftMenu from \"./components/leftmenu/LeftMenu\";\r\nimport TabContent from \"./components/tabcontent/TabContent\";\r\n\r\nconst {Header, Footer, Sider, Content} = Layout;\r\n\r\nclass LayOut extends React.Component {\r\n    onRef=(ref)=>{\r\n        this.child=ref\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Layout>\r\n\r\n                    <Header style={{background: '#fff'}}>\r\n                        <h1 style={{textAlign: \"center\"}}>Management System</h1>\r\n                    </Header>\r\n\r\n                    <Layout style={{height:'auto'}}>\r\n                        <Sider style={{\r\n                            overflow: 'auto',\r\n                            height: 'inherit',\r\n                            background: \"#fff\",\r\n                            margin: '0px 0px 0px 50px'\r\n                        }}>\r\n                            <LeftMenu handle={(key)=> {\r\n                                this.child.add(key)\r\n                            }}/>\r\n                        </Sider>\r\n\r\n                        <Content style={{margin: '0px 50px 0px 0px', height:'inherit'}}>\r\n                            <TabContent onRef={this.onRef}/>\r\n                        </Content>\r\n                    </Layout>\r\n\r\n                    <Footer style={{textAlign: 'center', height: \"auto\"}}>\r\n                            Management System ©2019 Created by David Xie\r\n                    </Footer>\r\n\r\n                </Layout>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LayOut;","import {ADD_PAGE, DELETE_PAGE, CHANGE_PAGE} from \"../actions\";\r\n\r\nconst initialState = {\r\n    pageList: [\r\n        {\r\n            key: \"0\",\r\n            title: \"welcome\",\r\n            component: \"Welcome\",\r\n            content: '欢迎欢迎，热烈欢迎！'\r\n        }\r\n    ],\r\n    activeKey: \"0\"\r\n};\r\n\r\nexport const page = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_PAGE:\r\n            return Object.assign({}, state, {\r\n                pageList: [\r\n                    ...state.pageList,\r\n                    {\r\n                        key: action.page.key,\r\n                        title: action.page.title,\r\n                        component: action.page.component,\r\n                        content: action.page.content\r\n                    }\r\n                ]\r\n            });\r\n\r\n        case DELETE_PAGE:\r\n            let activeKey = state.activeKey;\r\n            let lastIndex = 0;\r\n            state.pageList.forEach((pane, i) => {\r\n                if (pane.key === action.index) {\r\n                    lastIndex = i - 1;\r\n                }\r\n            });\r\n            const pageList2 = state.pageList.filter((page) => {\r\n                return page.key !== action.index\r\n            });\r\n            if (state.pageList.length && pageList2.length && activeKey === action.index) {\r\n                if (lastIndex >= 0) {\r\n                    activeKey = state.pageList[lastIndex].key;\r\n                } else {\r\n                    activeKey = pageList2[0].key;\r\n                }\r\n            }\r\n            return Object.assign({}, state, {\r\n                pageList: pageList2,\r\n                activeKey: activeKey\r\n            });\r\n\r\n        case CHANGE_PAGE:\r\n            return Object.assign({}, state, {\r\n                activeKey: action.key\r\n            });\r\n        default:\r\n            return state\r\n    }\r\n};","import {combineReducers} from \"redux\";\r\nimport {page} from './reducer';\r\n\r\nconst pageApp = combineReducers({\r\n    page\r\n});\r\n\r\nexport default pageApp","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport LayOut from './LayOut';\nimport {createStore} from 'redux';\nimport {Provider} from 'react-redux';\nimport rootReducer from './reducers';\n\nconst store=createStore(rootReducer);\nReactDOM.render(\n    <Provider store={store}>\n        <LayOut />\n    </Provider>,\n    document.getElementById('root')\n);"],"sourceRoot":""}